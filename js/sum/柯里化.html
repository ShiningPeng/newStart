<script src="https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.19/lodash.min.js"></script>
<script>
    function sum1(a, b, c) {
        return a + b + c;
    }

    let curriedSum = curry(sum1)

    console.log(curriedSum(1)(2)(3))
    // console.log(curriedSum(1, 2)(3))
    // console.log(curriedSum(1)(2, 3))

    // let curriedSum10 = curriedSum(10)
    // console.log(curriedSum10(2, 3))
    // console.log(curriedSum10(2)(3))


    function curry(fun) {
        const len = fun.length;
        // console.log(len);
        // fun为普通函数，return具有柯里化功能的函数(参数可分多次传)
            // 无论分几次传参数，接收到之后都存入args
            let args = [];
            function help(...arg) {
                args = args.concat(arg)
                console.log(args);
                if (args.length >= len) {
                    // 此处还有bug，每次运算完还需要更新args
                    return fun(...args);
                } else {
                    return help;
                }

        }
        return help;
    }

    curry(sum1);
</script>