<script>

    function* foo() {
        console.log('start')
        let a = yield 1
        console.log('1')
        let b = yield 2
        console.log(2, b)
        let c = yield 3
        console.log(3, c)
        console.log('end')
    }
    let iterator = foo();

    let val1 = iterator.next()
    let val2 = iterator.next(1)
    let val3 = iterator.next(2)
    let val4 = iterator.next(3)

    function autoRun(iteratorObj) {
        let { done } = iteratorObj.next(20)
        if (done) {
            return
        }
        autoRun(iteratorObj);
    }
    autoRun(iterator);
</script>